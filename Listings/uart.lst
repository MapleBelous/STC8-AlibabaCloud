C51 COMPILER V9.59.0.0   UART                                                              04/13/2020 21:01:39 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\uart.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Code\Basic\uart\uart.c OMF2 OPTIMIZE(9,SPEED) BROWSE MODP2 INCDIR(.\Code
                    -\Basic\def;.\Code\Basic\delay;.\Code\Basic\init;.\Code\Basic\uart;.\Code\Sensor\DS18B20;.\Code\Sensor\LCD1602;.\Code\Ali
                    -babaCloud) DEBUG PRINT(.\Listings\uart.lst) OBJECT(.\Objects\uart.obj)

line level    source

   1          #include "uart.h"
   2          //------------------------------------------------------------------------------------------------//
   3          xdata uchar uart4_buffer[uart4_buffer_size];
   4          data ushort uart4_idx1, uart4_idx2;
   5          
   6          bit uart1_busy, uart4_busy;
   7          //------------------------------------------------------------------------------------------------//
   8          #if LOGRANK_UART1 >= 1
   9          //-----------重写putchar函数-----------//
  10          //----用于printf函数向串口1发送数据----//
  11          char putchar(char ch)
  12          {
  13   1          uart1_send8(ch);
  14   1          return 1;
  15   1      }
  16          void uart1_send8(uchar dat)
  17          {
  18   1          while (uart1_busy)
  19   1              continue;
  20   1          uart1_busy = true;
  21   1          SBUF = dat;
  22   1          while (uart1_busy)
  23   1              continue;
  24   1      }
  25          #endif
  26          
  27          void uart4_send8(uchar dat)
  28          {
  29   1          while (uart4_busy)
  30   1              continue;
  31   1          uart4_busy = true;
  32   1          S4BUF = dat;
  33   1          while (uart4_busy)
  34   1              continue;
  35   1      }
  36          void uart4_sendstr8(uchar *p,uchar n)
  37          {
  38   1              if(n)
  39   1                      while(n--)
  40   1                              uart4_send8(*p++);
  41   1              else
  42   1                      while(*p)
  43   1                              uart4_send8(*p++);
  44   1      }
  45          //------------------------------------------------------------------------------------------------//


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     91    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    800    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       3
C51 COMPILER V9.59.0.0   UART                                                              04/13/2020 21:01:39 PAGE 2   

   IDATA SIZE       =   ----    ----
   BIT SIZE         =      2    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
