C51 COMPILER V9.59.0.0   UART                                                              04/17/2020 14:40:05 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE UART
OBJECT MODULE PLACED IN .\Objects\uart.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Code\Basic\uart\uart.c OMF2 OPTIMIZE(9,SPEED) BROWSE MODP2 INCDIR(.\Code
                    -\Basic\def;.\Code\Basic\delay;.\Code\Basic\init;.\Code\Basic\uart;.\Code\Sensor\DS18B20;.\Code\Sensor\LCD1602;.\Code\Ali
                    -babaCloud) DEBUG PRINT(.\Listings\uart.lst) OBJECT(.\Objects\uart.obj)

line level    source

   1          #include "uart.h"
   2          //------------------------------------------------------------------------------------------------//
   3          xdata uchar uart2_buffer[uart2_buffer_size];
   4          data ushort uart2_idx1, uart2_idx2;
   5          
   6          bit uart1_busy, uart2_busy;
   7          //------------------------------------------------------------------------------------------------//
   8          #if LOGRANK_UART1 >= 1
   9          //-----------重写putchar函数-----------//
  10          //----用于printf函数向串口1发送数据----//
  11          char putchar(char ch)
  12          {
  13   1          uart1_send8(ch);
  14   1          return 1;
  15   1      }
  16          void uart1_send8(uchar dat)
  17          {
  18   1          while (uart1_busy)
  19   1              continue;
  20   1          uart1_busy = true;
  21   1          SBUF = dat;
  22   1          while (uart1_busy)
  23   1              continue;
  24   1      }
  25          #endif
  26          
  27          void uart2_send8(uchar dat)
  28          {
  29   1          while (uart2_busy)
  30   1              continue;
  31   1          uart2_busy = true;
  32   1          S2BUF = dat;
  33   1          while (uart2_busy)
  34   1              continue;
  35   1      }
  36          void uart2_sendstr8(uchar *p)
  37          {
  38   1              while(*p)
  39   1                      uart2_send8(*p++);
  40   1      }
  41          //------------------------------------------------------------------------------------------------//


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     65    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =    600    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =      4       3
   IDATA SIZE       =   ----    ----
   BIT SIZE         =      2    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
C51 COMPILER V9.59.0.0   UART                                                              04/17/2020 14:40:05 PAGE 2   

   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
