C51 COMPILER V9.59.0.0   ISR                                                               04/17/2020 16:44:00 PAGE 1   


C51 COMPILER V9.59.0.0, COMPILATION OF MODULE ISR
OBJECT MODULE PLACED IN .\Objects\ISR.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE Code\Basic\ISR.c OMF2 OPTIMIZE(9,SPEED) BROWSE MODP2 INCDIR(.\Code\Basic
                    -\def;.\Code\Basic\delay;.\Code\Basic\init;.\Code\Basic\uart;.\Code\Sensor\DS18B20;.\Code\Sensor\LCD1602;.\Code\AlibabaCl
                    -oud) DEBUG PRINT(.\Listings\ISR.lst) OBJECT(.\Objects\ISR.obj)

line level    source

   1          #include "CloudHandle.h"
   2          #include "MCUdef.h"
   3          #include "delay.h"
   4          #include "uart.h"
   5          //------------------------------------------------------------------------------------------------//
   6          #ifdef _ISR0_
              void INT0_ISR(void) interrupt 0
              {
              }
              #endif
  11          #ifdef _ISR1_
  12          void TM0_ISR(void) interrupt 1
  13          {
  14   1           ++CloudAct.SysTime;//更新系统时间 1ms
  15   1      }
  16          #endif
  17          #ifdef _ISR2_
              void INT1_ISR(void) interrupt 2
              {
              }
              #endif
  22          #ifdef _ISR3_
              void TM1_ISR(void) interrupt 3
              {
              }
              #endif
  27          #ifdef _ISR4_
  28          void UART1_ISR(void) interrupt 4
  29          {
  30   1          if (TI)
  31   1              TI = 0, uart1_busy = false;
  32   1      }
  33          #endif
  34          #ifdef _ISR5_
              void ADC_ISR(void) interrupt 5
              {
              }
              #endif
  39          #ifdef _ISR6_
              void LVD_ISR(void) interrupt 6
              {
              }
              #endif
  44          #ifdef _ISR7_
              void PCA_ISR(void) interrupt 7
              {
              }
              #endif
  49          #ifdef _ISR8_
  50          void UART2_ISR(void) interrupt 8
  51          {
  52   1              if (S2CON & S2RI != 0)
  53   1          {
C51 COMPILER V9.59.0.0   ISR                                                               04/17/2020 16:44:00 PAGE 2   

  54   2                      bool isFull=false;
  55   2              S2CON &= ~S2RI;
  56   2                      if(uart2_idx2 + 1 == uart2_buffer_size)
  57   2                      {
  58   3                              if(uart2_idx1 == 0)
  59   3                                      isFull = true;
  60   3                      }
  61   2                      else if(uart2_idx1 == uart2_idx2 + 1)
  62   2                              isFull = true;
  63   2                      else
  64   2                              LED_GREEN = 1;
  65   2                      if(isFull == true)//串口缓冲区已满,放弃当前数据
  66   2              {                                                       //不能打印日志,可能导致堆栈错误
  67   3                  LED_GREEN = 0;                                      //亮绿灯表示串口缓冲区已满
  68   3                  return;
  69   3              }
  70   2              uart2_buffer[uart2_idx2] = S2BUF;
  71   2              if (uart2_idx2 + 1 == uart2_buffer_size)
  72   2                  uart2_idx2 = 0;
  73   2              else
  74   2                  ++uart2_idx2;
  75   2          }
  76   1          else
  77   1              S2CON &= ~S4TI, uart2_busy = false;
  78   1      }
  79          #endif
  80          #ifdef _ISR9_
              void SPI_ISR(void) interrupt 9
              {
              }
              #endif
  85          #ifdef _ISR10_
              void INT2_ISR(void) interrupt 10
              {
              }
              #endif
  90          #ifdef _ISR11_
              void INT3_ISR(void) interrupt 11
              {
              }
              #endif
  95          #ifdef _ISR12_
              void TM2_ISR(void) interrupt 12
              {
              }
              #endif
 100          #ifdef _ISR13_
              void INT4_ISR(void) interrupt 16
              {
              }
              #endif
 105          #ifdef _ISR14_
              void UART3_ISR(void) interrupt 17
              {
              }
              #endif
 110          #ifdef _ISR15_
              void UART4_ISR(void) interrupt 18
              {
              }
              #endif
 115          #ifdef _ISR16_
C51 COMPILER V9.59.0.0   ISR                                                               04/17/2020 16:44:00 PAGE 3   

              void TM3_ISR(void) interrupt 19
              {
              }
              #endif
 120          #ifdef _ISR17_
              void TM4_ISR(void) interrupt 20
              {
              }
              #endif
 125          #ifdef _ISR18_
              void CMP_ISR(void) interrupt 21
              {
              }
              #endif
 130          #ifdef _ISR19_
              void PWM_ISR(void) interrupt 22
              {
              }
              #endif
 135          #ifdef _ISR20_
              void PWMFD_ISR(void) interrupt 23
              {
              }
              #endif
 140          #ifdef _ISR21_
              void I2C_ISR(void) interrupt 24
              {
              }
              //------------------------------------------------------------------------------------------------//
              #endif


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    255    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----       1
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
