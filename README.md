# STC8-AlibabaCloud

STC8A8KS4A64单片机通过EMW3080模组的MQTT-AT指令，连接阿里云平台。

2020-04-13 物模型：DS18B20温度，高温报警，低温报警

2020-04-13 当前缺陷：缺少重新发送MQTTSEND命令机制，在MQTTSEND发送后无执行成功应答时，应当尝试重新发送，重新发送多次后若还无反应则日志记录后，放弃继续发送。并发送AT验证模组是否还在线，若无应答则视为模组已掉线，阻塞发送标识位，不再向模组串口发送任何信息；若有应答，则日志记录后立即重启MCU，尝试一同初始化模组。
重启MCU前的日志应当写入EEPROM中。

2020-04-15 在未连接WiFi模组的情况下也可以本地运行，WiFi模组多次不能应答AT 指令时能判断WiFi模组是否还连接中，还在则重启MCU尝试同步WiFI模组维持联网状态，若不在则自动切换为本地运行模式。
	后续应该增加更多传感器

